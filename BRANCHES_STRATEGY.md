# –°—Ç—Ä–∞—Ç–µ–≥–∏—è —Ä–∞–±–æ—Ç—ã —Å –≤–µ—Ç–∫–∞–º–∏

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –≤–µ—Ç–æ–∫

### `main` ‚Äî Production (Railway)
- ‚úÖ Dockerfile **–ë–ï–ó** VOLUME (—Å–æ–≤–º–µ—Å—Ç–∏–º —Å Railway)
- ‚úÖ –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω –¥–ª—è production
- ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è –Ω–∞ Railway
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ –ø—Ä–∏ –ø—É—à–µ –≤ main

### `dev` ‚Äî –õ–æ–∫–∞–ª—å–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞
- ‚úÖ Dockerfile.dev **–°** VOLUME (–¥–ª—è —É–¥–æ–±–Ω–æ–π —Ä–∞–±–æ—Ç—ã)
- ‚úÖ Hot reload –≤–∫–ª—é—á–µ–Ω
- ‚úÖ –í—Å–µ volumes –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
- ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ –∑–∞–ø—É—Å–∫–∞

---

## –†–∞–±–æ—Ç–∞ —Å –≤–µ—Ç–∫–∞–º–∏

### –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –Ω–∞ dev –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏:

```bash
git checkout dev
```

### –õ–æ–∫–∞–ª—å–Ω—ã–π –∑–∞–ø—É—Å–∫ (–≤–µ—Ç–∫–∞ dev):

```bash
docker compose up -d
```

–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `Dockerfile.dev` —Å VOLUME.

### –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ –Ω–∞ Railway (–≤–µ—Ç–∫–∞ main):

```bash
git checkout main
git push origin main
```

Railway –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Ä–∞–∑–≤–µ—Ä–Ω–µ—Ç –∏–∑ –≤–µ—Ç–∫–∏ `main` —Å `Dockerfile` (–±–µ–∑ VOLUME).

---

## Dockerfile —Ñ–∞–π–ª—ã

### `api/Dockerfile` (main –≤–µ—Ç–∫–∞)
- –î–ª—è Railway/production
- –ë–ï–ó VOLUME
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é $PORT

### `api/Dockerfile.dev` (dev –≤–µ—Ç–∫–∞)
- –î–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
- –° VOLUME
- –° --reload –¥–ª—è hot reload

---

## Workflow

### –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞:
1. –†–∞–±–æ—Ç–∞–µ—Ç–µ –≤ –≤–µ—Ç–∫–µ `dev`
2. –õ–æ–∫–∞–ª—å–Ω–æ –∑–∞–ø—É—Å–∫–∞–µ—Ç–µ —á–µ—Ä–µ–∑ `docker compose up`
3. –¢–µ—Å—Ç–∏—Ä—É–µ—Ç–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è

### –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ:
1. –ú–µ—Ä–∂–∏—Ç–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ `main`:
   ```bash
   git checkout main
   git merge dev
   git push origin main
   ```
2. Railway –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Ä–∞–∑–≤–µ—Ä–Ω–µ—Ç –∏–∑ `main`

### –ò–ª–∏ —á–µ—Ä–µ–∑ Pull Request:
1. –°–æ–∑–¥–∞–µ—Ç–µ PR –∏–∑ `dev` –≤ `main`
2. –ü–æ—Å–ª–µ –º–µ—Ä–¥–∂–∞ Railway –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Ä–∞–∑–≤–µ—Ä–Ω–µ—Ç

---

## –í–∞–∂–Ω–æ

- **main** ‚Äî –≤—Å–µ–≥–¥–∞ –≥–æ—Ç–æ–≤ –∫ production
- **dev** ‚Äî –¥–ª—è —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–æ–≤ –∏ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
- Railway —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–µ—Ç —Ç–æ–ª—å–∫–æ –∏–∑ `main`
- –õ–æ–∫–∞–ª—å–Ω–æ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `dev` —Å `Dockerfile.dev`

---

*–†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –Ω–∞ –≤–µ—Ç–∫–∏ —É–ø—Ä–æ—â–∞–µ—Ç —Ä–∞–±–æ—Ç—É!* üåø

